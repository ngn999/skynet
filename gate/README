See https://github.com/cloudwu/mread for detail.

Support write buffer now.
